{"mappings":"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","sources":["./assets/js/displayCharacters.js","./assets/index.js","./assets/js/openCharacter.js","./assets/js/createImage.js","./assets/js/createCharacter.js","./assets/js/editCharacter.js","./assets/js/deleteCharacter.js"],"sourcesContent":["const characterId = new Array()\n\nasync function displayCharactersCards() {\n  try {\n    const response = await fetch(\n      'https://character-database.becode.xyz/characters'\n    )\n    const character = await response.json()\n\n    const cardTemplate = document.querySelector('#template')\n    const target = document.querySelector('#target')\n\n    character.forEach(({ name, shortDescription, image, description, id }) => {\n      const cardClone = cardTemplate.cloneNode(true).content\n\n      cardClone.querySelector('#name').innerHTML = name\n      cardClone.querySelector(\n        '#short-description'\n      ).innerHTML = shortDescription\n      cardClone.querySelector('#image').src = `data:image/*;base64,${image}`\n      cardClone.querySelector('#long-description').innerHTML = description\n\n      target.appendChild(cardClone)\n\n      characterId.push(id)\n    })\n  } catch (error) {\n    console.error(error)\n  }\n}\n\nconst newCharacterId = characterId\n\nexport { displayCharactersCards, newCharacterId }\n","import { displayCharactersCards } from \"./js/displayCharacters.js\";\nimport { openCharacterCard } from \"./js/openCharacter.js\";\nimport { createImage } from \"./js/createImage.js\";\nimport { createCharacter } from \"./js/createCharacter.js\";\nimport { editCharacter } from \"./js/editCharacter.js\";\nimport { deleteCharacter } from \"./js/deleteCharacter.js\";\n\nlet callAllFunctions = displayCharactersCards();\n\ncallAllFunctions.then(() => {\n  openCharacterCard();\n  createImage();\n  createCharacter();\n  editCharacter();\n  deleteCharacter();\n});\n","function openCharacterCard() {\n  const longDescriptionButton = document.getElementsByClassName(\n    'long-description-button'\n  )\n  const cardName = document.getElementsByClassName('name-for-modal')\n  const shortDescription = document.getElementsByClassName('short-for-modal')\n  const longDescription = document.getElementsByClassName('long-for-modal')\n  const cardImage = document.getElementsByClassName('image-for-modal')\n  for (let i = 0; i < longDescriptionButton.length; i++) {\n    longDescriptionButton[i].addEventListener('click', function () {\n      const modalName = document.getElementById('name-modal')\n      const modalShortDescription = document.getElementById(\n        'short-modal-description'\n      )\n      const modalLongDescription = document.getElementById(\n        'long-modal-description'\n      )\n      const modalImage = document.getElementById('modal-image')\n\n      modalName.textContent = cardName[i].textContent\n      modalShortDescription.textContent = shortDescription[i].textContent\n      modalLongDescription.textContent = longDescription[i].textContent\n      modalImage.src = cardImage[i].src\n    })\n  }\n}\n\nexport { openCharacterCard }\n","async function createImage() {\n  document\n    .querySelector('#input-image')\n    .addEventListener('change', (element) => {\n      const file = element.target.files[0]\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        image = reader.result.replace('data:', '').replace(/^.+,/, '')\n      };\n      reader.readAsDataURL(file)\n    })\n}\n\nexport { createImage }\n","async function createCharacter() {\n  document.getElementById('create').addEventListener('click', async () => {\n    try {\n      document.getElementById('submit').addEventListener('click', async () => {\n        const inputs = Array.from(document.getElementsByClassName('inputs'))\n        const values = inputs.map(({ value }) => value.trim())\n\n        if (values.some((value) => value === '')) {\n          alert(\"there's an empty input!\")\n          return\n        } else {\n          const [name, shortDescription, description] = values\n          const response = await fetch(\n            'https://character-database.becode.xyz/characters',\n            {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({\n                name,\n                shortDescription,\n                description,\n                image\n              })\n            }\n          )\n\n          const createdCharacter = await response.json()\n          console.log(createdCharacter)\n          location.reload()\n        }\n      })\n    } catch (error) {\n      console.error(error)\n    }\n  })\n}\n\nexport { createCharacter }\n","import { newCharacterId } from './displayCharacters.js'\n\nasync function editCharacter () {\n  const outerEditButton = document.getElementsByClassName('outer-edit')\n\n  for (let i = 0; i < outerEditButton.length; i++) {\n    outerEditButton[i].addEventListener('click', async () => {\n      const id = newCharacterId[i]\n      try {\n        const response = await fetch(\n          `https://character-database.becode.xyz/characters/${id}`\n        )\n        const character = await response.json()\n\n        document.getElementById('input-name').value = character.name\n        document.getElementById('input-short-description').value =\n          character.shortDescription\n        document.getElementById('input-long-description').textContent =\n          character.description\n\n        document\n          .getElementById('submit')\n          .addEventListener('click', async () => {\n            const inputs = Array.from(\n              document.getElementsByClassName('inputs')\n            )\n            const values = inputs.map(({ value }) => value.trim())\n            const [name, shortDescription, description] = values\n\n            if (values.some((value) => value === '')) {\n              alert(\"there's an empty input!\")\n              return\n            } else {\n              const edit = await fetch(\n                `https://character-database.becode.xyz/characters/${id}`,\n                {\n                  method: 'PUT',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    name,\n                    shortDescription,\n                    description,\n                    image\n                  })\n                }\n              )\n              const editedCharacter = await edit.json()\n              console.log(editedCharacter)\n              location.reload()\n            }\n          })\n      } catch (error) {\n        console.error(error)\n      }\n    })\n  }\n}\n\nexport { editCharacter }\n","import { newCharacterId } from './displayCharacters.js'\n\nfunction deleteCharacter () {\n  const deleteButton = document.getElementsByClassName('delete')\n\n  for (let i = 0; i < deleteButton.length; i++) {\n    deleteButton[i].addEventListener('click', async function () {\n      if (confirm('Are you sure you want to delete this character?')) {\n        const id = newCharacterId[i]\n\n        try {\n          const response = await fetch(\n            `https://character-database.becode.xyz/characters/${id}`,\n            {\n              method: 'DELETE'\n            }\n          )\n\n          const deletedCharacter = await response.json()\n          console.log(deletedCharacter)\n\n          location.reload()\n        } catch (error) {\n          console.error(error)\n        }\n      } else {\n        alert('This character has not been deleted')\n      }\n    })\n  }\n}\n\nexport { deleteCharacter }\n"],"names":["$fff470f8f0b6ece6f4cd1e30ba2b0e09$var$characterId","Array","$fff470f8f0b6ece6f4cd1e30ba2b0e09$export$newCharacterId","async","response","fetch","character","json","cardTemplate","document","querySelector","target","forEach","name","shortDescription","image","description","id","cardClone","cloneNode","content","innerHTML","src","appendChild","push","error","console","$ceaaa8a3c8f12625d8b4b1c06103fed6$var$callAllFunctions","then","longDescriptionButton","getElementsByClassName","cardName","longDescription","cardImage","i","length","addEventListener","modalName","getElementById","modalShortDescription","modalLongDescription","modalImage","textContent","element","file","files","reader","FileReader","onloadend","result","replace","readAsDataURL","values","from","map","value","trim","some","alert","method","headers","Content-Type","body","JSON","stringify","createdCharacter","log","location","reload","outerEditButton","edit","editedCharacter","deleteButton","confirm","deletedCharacter"],"version":3,"file":"index.7f0e7eb0.js.map"}