!function(){const e=new Array,t=e;(async function(){try{const t=await fetch("https://character-database.becode.xyz/characters"),n=await t.json(),o=document.querySelector("#template"),a=document.querySelector("#target");n.forEach((({name:t,shortDescription:n,image:c,description:s,id:r})=>{const i=o.cloneNode(!0).content;i.querySelector("#name").innerHTML=t,i.querySelector("#short-description").innerHTML=n,i.querySelector("#image").src=`data:image/*;base64,${c}`,i.querySelector("#long-description").innerHTML=s,a.appendChild(i),e.push(r)}))}catch(e){console.error(e)}})().then((()=>{!function(){const e=document.getElementsByClassName("long-description-button"),t=document.getElementsByClassName("name-for-modal"),n=document.getElementsByClassName("short-for-modal"),o=document.getElementsByClassName("long-for-modal"),a=document.getElementsByClassName("image-for-modal");for(let c=0;c<e.length;c++)e[c].addEventListener("click",(function(){const e=document.getElementById("name-modal"),s=document.getElementById("short-modal-description"),r=document.getElementById("long-modal-description"),i=document.getElementById("modal-image");e.textContent=t[c].textContent,s.textContent=n[c].textContent,r.textContent=o[c].textContent,i.src=a[c].src}))}(),async function(){document.querySelector("#input-image").addEventListener("change",(e=>{const t=e.target.files[0],n=new FileReader;n.onloadend=()=>{image=n.result.replace("data:","").replace(/^.+,/,"")},n.readAsDataURL(t)}))}(),async function(){document.getElementById("create").addEventListener("click",(async()=>{try{document.getElementById("submit").addEventListener("click",(async()=>{const e=Array.from(document.getElementsByClassName("inputs")).map((({value:e})=>e.trim()));if(e.some((e=>""===e)))alert("there's an empty input!");else{const[t,n,o]=e,a=await fetch("https://character-database.becode.xyz/characters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,shortDescription:n,description:o,image:image})}),c=await a.json();console.log(c),location.reload()}}))}catch(e){console.error(e)}}))}(),async function(){const e=document.getElementsByClassName("outer-edit");for(let n=0;n<e.length;n++)e[n].addEventListener("click",(async()=>{const e=t[n];try{const t=await fetch(`https://character-database.becode.xyz/characters/${e}`),n=await t.json();document.getElementById("input-name").value=n.name,document.getElementById("input-short-description").value=n.shortDescription,document.getElementById("input-long-description").textContent=n.description,document.getElementById("submit").addEventListener("click",(async()=>{const t=Array.from(document.getElementsByClassName("inputs")).map((({value:e})=>e.trim())),[n,o,a]=t;if(t.some((e=>""===e)))alert("there's an empty input!");else{const t=await fetch(`https://character-database.becode.xyz/characters/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,shortDescription:o,description:a,image:image})}),c=await t.json();console.log(c),location.reload()}}))}catch(e){console.error(e)}}))}(),function(){const e=document.getElementsByClassName("delete");for(let n=0;n<e.length;n++)e[n].addEventListener("click",(async function(){if(confirm("Are you sure you want to delete this character?")){const e=t[n];try{const t=await fetch(`https://character-database.becode.xyz/characters/${e}`,{method:"DELETE"}),n=await t.json();console.log(n),location.reload()}catch(e){console.error(e)}}else alert("This character has not been deleted")}))}()}))}();
//# sourceMappingURL=index.41de00b2.js.map
